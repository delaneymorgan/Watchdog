<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="953px" preserveAspectRatio="none" style="width:947px;height:953px;" version="1.1" viewBox="0 0 947 953" width="947px" zoomAndPan="magnify"><defs><filter height="300%" id="fyirokxcgt4fc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9a528e6905840515624eb80340063a30]
class WatchdogMain--><rect fill="#FEFECE" filter="url(#fyirokxcgt4fc)" height="48" id="WatchdogMain" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="228" y="33.5"/><ellipse cx="243" cy="49.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M245.9688,55.1406 Q245.3906,55.4375 244.75,55.5781 Q244.1094,55.7344 243.4063,55.7344 Q240.9063,55.7344 239.5781,54.0938 Q238.2656,52.4375 238.2656,49.3125 Q238.2656,46.1875 239.5781,44.5313 Q240.9063,42.875 243.4063,42.875 Q244.1094,42.875 244.75,43.0313 Q245.4063,43.1875 245.9688,43.4844 L245.9688,46.2031 Q245.3438,45.625 244.75,45.3594 Q244.1563,45.0781 243.5313,45.0781 Q242.1875,45.0781 241.5,46.1563 Q240.8125,47.2188 240.8125,49.3125 Q240.8125,51.4063 241.5,52.4844 Q242.1875,53.5469 243.5313,53.5469 Q244.1563,53.5469 244.75,53.2813 Q245.3438,53 245.9688,52.4219 L245.9688,55.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="257" y="53.6543">WatchdogMain</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="229" x2="351" y1="65.5" y2="65.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="229" x2="351" y1="73.5" y2="73.5"/><!--MD5=[74026ca718864ade72d8a12fd1b4e377]
class Watchdog--><rect fill="#FEFECE" filter="url(#fyirokxcgt4fc)" height="214.4609" id="Watchdog" style="stroke: #A80036; stroke-width: 1.5;" width="420" x="6" y="167"/><ellipse cx="180.25" cy="183" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M183.2188,188.6406 Q182.6406,188.9375 182,189.0781 Q181.3594,189.2344 180.6563,189.2344 Q178.1563,189.2344 176.8281,187.5938 Q175.5156,185.9375 175.5156,182.8125 Q175.5156,179.6875 176.8281,178.0313 Q178.1563,176.375 180.6563,176.375 Q181.3594,176.375 182,176.5313 Q182.6563,176.6875 183.2188,176.9844 L183.2188,179.7031 Q182.5938,179.125 182,178.8594 Q181.4063,178.5781 180.7813,178.5781 Q179.4375,178.5781 178.75,179.6563 Q178.0625,180.7188 178.0625,182.8125 Q178.0625,184.9063 178.75,185.9844 Q179.4375,187.0469 180.7813,187.0469 Q181.4063,187.0469 182,186.7813 Q182.5938,186.5 183.2188,185.9219 L183.2188,188.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="200.75" y="187.1543">Watchdog</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="425" y1="199" y2="199"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="26" y="213.2104">bool m_Running</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="219.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="26" y="226.0151">bool m_AutoScan</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="232.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="26" y="238.8198">bool m_Verbose</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="245.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="26" y="251.6245">milliseconds m_ScanPeriod</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="258.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="26" y="264.4292">function m_Callback</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="425" y1="271.0234" y2="271.0234"/><ellipse cx="17" cy="282.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="26" y="285.2339">Watchdog( scanPeriod, autoScan, verbose)</text><ellipse cx="17" cy="294.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="26" y="298.0386">void setCallback( function)</text><ellipse cx="17" cy="307.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="26" y="310.8433">void setPolicy( policy)</text><ellipse cx="17" cy="320.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="26" y="323.6479">void monitor()</text><ellipse cx="17" cy="333.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="26" y="336.4526">void quiesce()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="30" y="349.2573"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="355.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="26" y="362.062">void scanHeartbeats()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="368.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="394" x="26" y="374.8667">void doCallbacks( actualName, processID, threadID, event, hbLength)</text><!--MD5=[6594933676626ddb2ae6f6be04cef802]
class IWatchdogPolicy--><rect fill="#FEFECE" filter="url(#fyirokxcgt4fc)" height="99.2188" id="IWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.5;" width="475" x="461.5" y="8"/><ellipse cx="644.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M647.2188,29.6406 Q646.6406,29.9375 646,30.0781 Q645.3594,30.2344 644.6563,30.2344 Q642.1563,30.2344 640.8281,28.5938 Q639.5156,26.9375 639.5156,23.8125 Q639.5156,20.6875 640.8281,19.0313 Q642.1563,17.375 644.6563,17.375 Q645.3594,17.375 646,17.5313 Q646.6563,17.6875 647.2188,17.9844 L647.2188,20.7031 Q646.5938,20.125 646,19.8594 Q645.4063,19.5781 644.7813,19.5781 Q643.4375,19.5781 642.75,20.6563 Q642.0625,21.7188 642.0625,23.8125 Q642.0625,25.9063 642.75,26.9844 Q643.4375,28.0469 644.7813,28.0469 Q645.4063,28.0469 646,27.7813 Q646.5938,27.5 647.2188,26.9219 L647.2188,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="664.75" y="28.1543">IWatchdogPolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="462.5" x2="935.5" y1="40" y2="40"/><polygon fill="none" points="472.5,46,476.5,50,472.5,54,468.5,50" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="481.5" y="54.2104">string m_ProcessName</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="462.5" x2="935.5" y1="60.8047" y2="60.8047"/><ellipse cx="472.5" cy="71.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="481.5" y="75.0151">IWatchdogPolicy( processName)</text><ellipse cx="472.5" cy="84.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="481.5" y="87.8198">string processName()</text><ellipse cx="472.5" cy="97.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="449" x="481.5" y="100.6245">void handleEvent( actualName, processID, threadID, event, hbLength, verbose)</text><!--MD5=[19018a673758c1e2ea88e887634e8bea]
class ThreadyMainWatchdogPolicy--><rect fill="#FEFECE" filter="url(#fyirokxcgt4fc)" height="73.6094" id="ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.5;" width="475" x="461.5" y="237"/><ellipse cx="606.25" cy="253" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M609.2188,258.6406 Q608.6406,258.9375 608,259.0781 Q607.3594,259.2344 606.6563,259.2344 Q604.1563,259.2344 602.8281,257.5938 Q601.5156,255.9375 601.5156,252.8125 Q601.5156,249.6875 602.8281,248.0313 Q604.1563,246.375 606.6563,246.375 Q607.3594,246.375 608,246.5313 Q608.6563,246.6875 609.2188,246.9844 L609.2188,249.7031 Q608.5938,249.125 608,248.8594 Q607.4063,248.5781 606.7813,248.5781 Q605.4375,248.5781 604.75,249.6563 Q604.0625,250.7188 604.0625,252.8125 Q604.0625,254.9063 604.75,255.9844 Q605.4375,257.0469 606.7813,257.0469 Q607.4063,257.0469 608,256.7813 Q608.5938,256.5 609.2188,255.9219 L609.2188,258.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="626.75" y="257.1543">ThreadyMainWatchdogPolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="462.5" x2="935.5" y1="269" y2="269"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="462.5" x2="935.5" y1="277" y2="277"/><ellipse cx="472.5" cy="288" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="481.5" y="291.2104">ThreadyMainWatchdogPolicy()</text><ellipse cx="472.5" cy="300.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="449" x="481.5" y="304.0151">void handleEvent( actualName, processID, threadID, event, hbLength, verbose)</text><!--MD5=[27b5ee5f1dbbde347ed284f899bf7850]
class EKG--><rect fill="#FEFECE" filter="url(#fyirokxcgt4fc)" height="214.4609" id="EKG" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="128" y="441"/><ellipse cx="199.75" cy="457" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M202.7188,462.6406 Q202.1406,462.9375 201.5,463.0781 Q200.8594,463.2344 200.1563,463.2344 Q197.6563,463.2344 196.3281,461.5938 Q195.0156,459.9375 195.0156,456.8125 Q195.0156,453.6875 196.3281,452.0313 Q197.6563,450.375 200.1563,450.375 Q200.8594,450.375 201.5,450.5313 Q202.1563,450.6875 202.7188,450.9844 L202.7188,453.7031 Q202.0938,453.125 201.5,452.8594 Q200.9063,452.5781 200.2813,452.5781 Q198.9375,452.5781 198.25,453.6563 Q197.5625,454.7188 197.5625,456.8125 Q197.5625,458.9063 198.25,459.9844 Q198.9375,461.0469 200.2813,461.0469 Q200.9063,461.0469 201.5,460.7813 Q202.0938,460.5 202.7188,459.9219 L202.7188,462.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="220.25" y="461.1543">EKG</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="129" x2="303" y1="473" y2="473"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="481"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="148" y="487.2104">string m_ActualName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="493.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="148" y="500.0151">string m_UserName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="506.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="148" y="512.8198">pid_t m_ProcessID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="519.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="148" y="525.6245">pid_t m_ThreadID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="532.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="148" y="538.4292">mapped_region m_Region</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="129" x2="303" y1="545.0234" y2="545.0234"/><ellipse cx="139" cy="556.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="148" y="559.2339">EKG( actualName)</text><ellipse cx="139" cy="568.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="148" y="572.0386">bool isAlive()</text><ellipse cx="139" cy="581.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="148" y="584.8433">bool isNormal()</text><ellipse cx="139" cy="594.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="148" y="597.6479">milliseconds length()</text><ellipse cx="139" cy="607.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="148" y="610.4526">string actualName()</text><ellipse cx="139" cy="620.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="148" y="623.2573">milliseconds normalLimit()</text><ellipse cx="139" cy="632.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="148" y="636.062">pid_t processID()</text><ellipse cx="139" cy="645.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="148" y="648.8667">pid_t threadID()</text><!--MD5=[5588a39ae170b77f50776c4d9116093e]
class Heartbeat--><rect fill="#FEFECE" filter="url(#fyirokxcgt4fc)" height="227.2656" id="Heartbeat" style="stroke: #A80036; stroke-width: 1.5;" width="309" x="61.5" y="715"/><ellipse cx="179.75" cy="731" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M182.7188,736.6406 Q182.1406,736.9375 181.5,737.0781 Q180.8594,737.2344 180.1563,737.2344 Q177.6563,737.2344 176.3281,735.5938 Q175.0156,733.9375 175.0156,730.8125 Q175.0156,727.6875 176.3281,726.0313 Q177.6563,724.375 180.1563,724.375 Q180.8594,724.375 181.5,724.5313 Q182.1563,724.6875 182.7188,724.9844 L182.7188,727.7031 Q182.0938,727.125 181.5,726.8594 Q180.9063,726.5781 180.2813,726.5781 Q178.9375,726.5781 178.25,727.6563 Q177.5625,728.7188 177.5625,730.8125 Q177.5625,732.9063 178.25,733.9844 Q178.9375,735.0469 180.2813,735.0469 Q180.9063,735.0469 181.5,734.7813 Q182.0938,734.5 182.7188,733.9219 L182.7188,736.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="200.25" y="735.1543">Heartbeat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="62.5" x2="369.5" y1="747" y2="747"/><ellipse cx="72.5" cy="758" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="81.5" y="761.2104">milliseconds m_NormalLimit</text><ellipse cx="72.5" cy="770.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="81.5" y="774.0151">milliseconds m_AbsoluteLimit</text><ellipse cx="72.5" cy="783.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="81.5" y="786.8198">TTickCount m_Beat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="62.5" x2="369.5" y1="793.4141" y2="793.4141"/><ellipse cx="72.5" cy="804.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="81.5" y="807.6245">void SetCRC( heartbeat)</text><ellipse cx="72.5" cy="817.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="81.5" y="820.4292">bool isCRCOK( heartbeat)</text><ellipse cx="72.5" cy="830.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="81.5" y="833.2339">string makeActualName( procName, threadName)</text><ellipse cx="72.5" cy="842.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="81.5" y="846.0386">string extractUserName( actualName)</text><ellipse cx="72.5" cy="855.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="81.5" y="858.8433">string extractProcName( actualName)</text><ellipse cx="72.5" cy="868.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="81.5" y="871.6479">string extractThreadName( actualName)</text><ellipse cx="72.5" cy="881.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="81.5" y="884.4526">pid_t extractProcessID( actualName)</text><ellipse cx="72.5" cy="894.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="81.5" y="897.2573">pid_t extractThreadID( actualName)</text><ellipse cx="72.5" cy="906.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="81.5" y="910.062">bool isHeartbeat( name)</text><ellipse cx="72.5" cy="919.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="81.5" y="922.8667">utin32)t calcCRC( heartbeat)</text><ellipse cx="72.5" cy="932.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="81.5" y="935.6714">TTickCount tickCountNow()</text><!--MD5=[4ed118a7c9c47b4b2b951d0ee4d84f54]
reverse link WatchdogMain to Watchdog--><path d="M277.61,94.41 C270.68,114.49 261.65,140.67 252.65,166.77 " fill="none" id="WatchdogMain&lt;-Watchdog" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="281.94,81.86,276.2005,86.2256,278.0228,93.2027,283.7623,88.8371,281.94,81.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="271.0004" y="101.709">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="246.9457" y="155.7584">1</text><!--MD5=[8e71609fa42bdec185f6fdb3b686f276]
reverse link Watchdog to EKG--><path d="M216,394.71 C216,410.04 216,425.65 216,440.74 " fill="none" id="Watchdog&lt;-EKG" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="216,381.33,212,387.33,216,393.33,220,387.33,216,381.33" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7188" y="401.4593">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7313" y="430.0854">n</text><!--MD5=[db8a0d5af58c6dc8fb1f9d87dc3a7343]
reverse link EKG to Heartbeat--><path d="M216,668.48 C216,683.83 216,699.52 216,714.76 " fill="none" id="EKG&lt;-Heartbeat" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="216,655.08,212,661.08,216,667.08,220,661.08,216,655.08" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7063" y="675.5493">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7438" y="704.0557">1</text><!--MD5=[93d305e3b7095644aacb8b2e6a5943d4]
reverse link IWatchdogPolicy to ThreadyMainWatchdogPolicy--><path d="M699,127.4 C699,163.83 699,207.05 699,236.88 " fill="none" id="IWatchdogPolicy&lt;-ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="692,127.17,699,107.17,706,127.17,692,127.17" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[228b956c8d985f3ce51a596ad4a13beb]
reverse link WatchdogMain to ThreadyMainWatchdogPolicy--><path d="M345.98,87.86 C419.99,126.67 550.34,195.04 630.25,236.95 " fill="none" id="WatchdogMain&lt;-ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="334.16,81.66,337.6201,87.9867,344.791,87.2261,341.3309,80.8994,334.16,81.66" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a3d6a6c5b734426bb513f063de41b932]
@startuml
class WatchdogMain

class Watchdog {
-bool m_Running
-bool m_AutoScan
-bool m_Verbose
-milliseconds m_ScanPeriod
-function m_Callback

+Watchdog( scanPeriod, autoScan, verbose)
+void setCallback( function)
+void setPolicy( policy)
+void monitor()
+void quiesce()

-void scanHeartbeats()
-void doCallbacks( actualName, processID, threadID, event, hbLength)
}

class IWatchdogPolicy {
#string m_ProcessName
+IWatchdogPolicy( processName)
+string processName()
+void handleEvent( actualName, processID, threadID, event, hbLength, verbose)
}

class ThreadyMainWatchdogPolicy {
+ThreadyMainWatchdogPolicy()
+void handleEvent( actualName, processID, threadID, event, hbLength, verbose)
}

class EKG {
-string m_ActualName
-string m_UserName
-pid_t m_ProcessID
-pid_t m_ThreadID
-mapped_region m_Region

+EKG( actualName)
+bool isAlive()
+bool isNormal()
+milliseconds length()
+string actualName()
+milliseconds normalLimit()
+pid_t processID()
+pid_t threadID()
}

class Heartbeat {
+milliseconds m_NormalLimit
+milliseconds m_AbsoluteLimit
+TTickCount m_Beat

+void SetCRC( heartbeat)
+bool isCRCOK( heartbeat)
+string makeActualName( procName, threadName)
+string extractUserName( actualName)
+string extractProcName( actualName)
+string extractThreadName( actualName)
+pid_t extractProcessID( actualName)
+pid_t extractThreadID( actualName)
+bool isHeartbeat( name)
+utin32)t calcCRC( heartbeat)
+TTickCount tickCountNow()
}
WatchdogMain "1" *- - "1" Watchdog
Watchdog "1" *- - "n" EKG
EKG "1" *- - "1" Heartbeat
IWatchdogPolicy <|- - ThreadyMainWatchdogPolicy
WatchdogMain *- - ThreadyMainWatchdogPolicy
@enduml

PlantUML version 1.2020.02(Sun Mar 01 21:22:07 AEDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7-post-Ubuntu-0ubuntu122.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>