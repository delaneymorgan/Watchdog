<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="851px" preserveAspectRatio="none" style="width:460px;height:851px;" version="1.1" viewBox="0 0 460 851" width="460px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fklcowsbnlfz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[107842e6e507752d9b688223fd6ddbe0]
class ThreadyMain--><rect fill="#FEFECE" filter="url(#f1fklcowsbnlfz)" height="48" id="ThreadyMain" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="172" y="8"/><ellipse cx="187" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M189.9688,29.6406 Q189.3906,29.9375 188.75,30.0781 Q188.1094,30.2344 187.4063,30.2344 Q184.9063,30.2344 183.5781,28.5938 Q182.2656,26.9375 182.2656,23.8125 Q182.2656,20.6875 183.5781,19.0313 Q184.9063,17.375 187.4063,17.375 Q188.1094,17.375 188.75,17.5313 Q189.4063,17.6875 189.9688,17.9844 L189.9688,20.7031 Q189.3438,20.125 188.75,19.8594 Q188.1563,19.5781 187.5313,19.5781 Q186.1875,19.5781 185.5,20.6563 Q184.8125,21.7188 184.8125,23.8125 Q184.8125,25.9063 185.5,26.9844 Q186.1875,28.0469 187.5313,28.0469 Q188.1563,28.0469 188.75,27.7813 Q189.3438,27.5 189.9688,26.9219 L189.9688,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="201" y="28.1543">ThreadyMain</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="173" x2="282" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="173" x2="282" y1="48" y2="48"/><!--MD5=[dcf275be2cdf449527c3bc7531c4e6ba]
class Thready--><rect fill="#FEFECE" filter="url(#f1fklcowsbnlfz)" height="214.4609" id="Thready" style="stroke: #A80036; stroke-width: 1.5;" width="443" x="6" y="116"/><ellipse cx="198.25" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M201.2188,137.6406 Q200.6406,137.9375 200,138.0781 Q199.3594,138.2344 198.6563,138.2344 Q196.1563,138.2344 194.8281,136.5938 Q193.5156,134.9375 193.5156,131.8125 Q193.5156,128.6875 194.8281,127.0313 Q196.1563,125.375 198.6563,125.375 Q199.3594,125.375 200,125.5313 Q200.6563,125.6875 201.2188,125.9844 L201.2188,128.7031 Q200.5938,128.125 200,127.8594 Q199.4063,127.5781 198.7813,127.5781 Q197.4375,127.5781 196.75,128.6563 Q196.0625,129.7188 196.0625,131.8125 Q196.0625,133.9063 196.75,134.9844 Q197.4375,136.0469 198.7813,136.0469 Q199.4063,136.0469 200,135.7813 Q200.5938,135.5 201.2188,134.9219 L201.2188,137.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="218.75" y="136.1543">Thready</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="448" y1="148" y2="148"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="26" y="162.2104">string m_ProcessName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="168.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="26" y="175.0151">string m_ThreadName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="181.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="26" y="187.8198">bool m_Running</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="194.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="26" y="200.6245">bool m_Tamper</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="207.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="26" y="213.4292">bool m_Verbose</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="220.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="26" y="226.2339">PaceMaker m_PaceMaker</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="232.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="26" y="239.0386">milliseconds m_NormalLimit</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="245.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="26" y="251.8433">milliseconds m_AbsoluteLimit</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="258.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="26" y="264.6479">thread m_Thread</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="448" y1="271.2422" y2="271.2422"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="279.2422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="26" y="285.4526">void run()</text><ellipse cx="17" cy="295.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="417" x="26" y="298.2573">Thready( processName, id, normalLimit, absoluteLimit, tamper, verbose)</text><ellipse cx="17" cy="307.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="26" y="311.062">void start()</text><ellipse cx="17" cy="320.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="26" y="323.8667">void quiesce()</text><!--MD5=[68b0d04cd6e9de4ea381143cc5ff387e]
class PaceMaker--><rect fill="#FEFECE" filter="url(#f1fklcowsbnlfz)" height="163.2422" id="PaceMaker" style="stroke: #A80036; stroke-width: 1.5;" width="415" x="20" y="390"/><ellipse cx="188.75" cy="406" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M191.7188,411.6406 Q191.1406,411.9375 190.5,412.0781 Q189.8594,412.2344 189.1563,412.2344 Q186.6563,412.2344 185.3281,410.5938 Q184.0156,408.9375 184.0156,405.8125 Q184.0156,402.6875 185.3281,401.0313 Q186.6563,399.375 189.1563,399.375 Q189.8594,399.375 190.5,399.5313 Q191.1563,399.6875 191.7188,399.9844 L191.7188,402.7031 Q191.0938,402.125 190.5,401.8594 Q189.9063,401.5781 189.2813,401.5781 Q187.9375,401.5781 187.25,402.6563 Q186.5625,403.7188 186.5625,405.8125 Q186.5625,407.9063 187.25,408.9844 Q187.9375,410.0469 189.2813,410.0469 Q189.9063,410.0469 190.5,409.7813 Q191.0938,409.5 191.7188,408.9219 L191.7188,411.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="209.25" y="410.1543">PaceMaker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="21" x2="434" y1="422" y2="422"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="28" y="430"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="40" y="436.2104">string m_ProcessName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="28" y="442.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="40" y="449.0151">string m_ThreadName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="28" y="455.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="40" y="461.8198">string m_ActualName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="28" y="468.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="40" y="474.6245">milliseconds m_NormalLimit</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="28" y="481.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="40" y="487.4292">milliseconds m_AbsoluteLimit</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="28" y="494.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="40" y="500.2339">mutex m_BeatMutex</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="28" y="506.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="40" y="513.0386">mapped_region m_Region</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="21" x2="434" y1="519.6328" y2="519.6328"/><ellipse cx="31" cy="530.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="389" x="40" y="533.8433">PaceMaker( processName, threadName, normalLimit, absoluteLimit)</text><ellipse cx="31" cy="543.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="40" y="546.6479">void pulse()</text><!--MD5=[5588a39ae170b77f50776c4d9116093e]
class Heartbeat--><rect fill="#FEFECE" filter="url(#f1fklcowsbnlfz)" height="227.2656" id="Heartbeat" style="stroke: #A80036; stroke-width: 1.5;" width="330" x="62.5" y="613"/><ellipse cx="191.25" cy="629" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M194.2188,634.6406 Q193.6406,634.9375 193,635.0781 Q192.3594,635.2344 191.6563,635.2344 Q189.1563,635.2344 187.8281,633.5938 Q186.5156,631.9375 186.5156,628.8125 Q186.5156,625.6875 187.8281,624.0313 Q189.1563,622.375 191.6563,622.375 Q192.3594,622.375 193,622.5313 Q193.6563,622.6875 194.2188,622.9844 L194.2188,625.7031 Q193.5938,625.125 193,624.8594 Q192.4063,624.5781 191.7813,624.5781 Q190.4375,624.5781 189.75,625.6563 Q189.0625,626.7188 189.0625,628.8125 Q189.0625,630.9063 189.75,631.9844 Q190.4375,633.0469 191.7813,633.0469 Q192.4063,633.0469 193,632.7813 Q193.5938,632.5 194.2188,631.9219 L194.2188,634.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="211.75" y="633.1543">Heartbeat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="391.5" y1="645" y2="645"/><ellipse cx="73.5" cy="656" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="82.5" y="659.2104">milliseconds m_NormalLimit</text><ellipse cx="73.5" cy="668.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="82.5" y="672.0151">milliseconds m_AbsoluteLimit</text><ellipse cx="73.5" cy="681.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="82.5" y="684.8198">TTickCount m_Beat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="391.5" y1="691.4141" y2="691.4141"/><ellipse cx="73.5" cy="702.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="82.5" y="705.6245">void SetCRC( heartbeat)</text><ellipse cx="73.5" cy="715.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="82.5" y="718.4292">bool isCRCOK( heartbeat)</text><ellipse cx="73.5" cy="728.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="82.5" y="731.2339">string makeActualName( processName, threadName)</text><ellipse cx="73.5" cy="740.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="82.5" y="744.0386">string extractUserName( actualName)</text><ellipse cx="73.5" cy="753.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="82.5" y="756.8433">string extractProcessName( actualName)</text><ellipse cx="73.5" cy="766.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="82.5" y="769.6479">string extractThreadName( actualName)</text><ellipse cx="73.5" cy="779.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="82.5" y="782.4526">pid_t extractProcessID( actualName)</text><ellipse cx="73.5" cy="792.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="82.5" y="795.2573">pid_t extractThreadID( actualName)</text><ellipse cx="73.5" cy="804.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="82.5" y="808.062">bool isHeartbeat( name)</text><ellipse cx="73.5" cy="817.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="82.5" y="820.8667">utin32)t calcCRC( heartbeat)</text><ellipse cx="73.5" cy="830.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="82.5" y="833.6714">TTickCount tickCountNow()</text><!--MD5=[80d93f7c93f2d3089ec0f8279a42c7fd]
reverse link ThreadyMain to Thready--><path d="M227.5,69.27 C227.5,82.84 227.5,99.02 227.5,115.71 " fill="none" id="ThreadyMain&lt;-Thready" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="227.5,56.18,223.5,62.18,227.5,68.18,231.5,62.18,227.5,56.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="218.525" y="75.9851">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="219.2313" y="105.0534">n</text><!--MD5=[5ad0e5791a84cf06e7445b0431ac0ada]
reverse link Thready to PaceMaker--><path d="M227.5,343.47 C227.5,359.18 227.5,374.96 227.5,389.8 " fill="none" id="Thready&lt;-PaceMaker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="227.5,330.33,223.5,336.33,227.5,342.33,231.5,336.33,227.5,330.33" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="219.2188" y="350.4593">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="219.1438" y="378.9176">1</text><!--MD5=[a77c26cdd2df13ac9166a3b620146dba]
reverse link PaceMaker to Heartbeat--><path d="M227.5,566.34 C227.5,581.47 227.5,597.26 227.5,612.78 " fill="none" id="PaceMaker&lt;-Heartbeat" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="227.5,553.25,223.5,559.25,227.5,565.25,231.5,559.25,227.5,553.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="219.1438" y="573.2609">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="219.2438" y="602.077">1</text><!--MD5=[91d26717d6fa9da1cf6550b77e55ad41]
@startuml
class ThreadyMain
class Thready {
-void run()
-string m_ProcessName
-string m_ThreadName
-bool m_Running
-bool m_Tamper
-bool m_Verbose
-PaceMaker m_PaceMaker
-milliseconds m_NormalLimit
-milliseconds m_AbsoluteLimit
-thread m_Thread

+Thready( processName, id, normalLimit, absoluteLimit, tamper, verbose)
+void start()
+void quiesce()
}
class PaceMaker {
-string m_ProcessName
-string m_ThreadName
-string m_ActualName
-milliseconds m_NormalLimit
-milliseconds m_AbsoluteLimit
-mutex m_BeatMutex
-mapped_region m_Region

+PaceMaker( processName, threadName, normalLimit, absoluteLimit)
+void pulse()
}
class Heartbeat {
+milliseconds m_NormalLimit
+milliseconds m_AbsoluteLimit
+TTickCount m_Beat

+void SetCRC( heartbeat)
+bool isCRCOK( heartbeat)
+string makeActualName( processName, threadName)
+string extractUserName( actualName)
+string extractProcessName( actualName)
+string extractThreadName( actualName)
+pid_t extractProcessID( actualName)
+pid_t extractThreadID( actualName)
+bool isHeartbeat( name)
+utin32)t calcCRC( heartbeat)
+TTickCount tickCountNow()
}
ThreadyMain "1" *- - "n" Thready
Thready "1" *- - "1" PaceMaker
PaceMaker "1" *- - "1" Heartbeat
@enduml

PlantUML version 1.2020.02(Sun Mar 01 21:22:07 AEDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7-post-Ubuntu-0ubuntu122.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>