<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="966px" preserveAspectRatio="none" style="width:820px;height:966px;" version="1.1" viewBox="0 0 820 966" width="820px" zoomAndPan="magnify"><defs><filter height="300%" id="fvtv4qgmstepi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9a528e6905840515624eb80340063a30]
class WatchdogMain--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="48" id="WatchdogMain" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="408.5" y="33.5"/><ellipse cx="423.5" cy="49.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426.4688,55.1406 Q425.8906,55.4375 425.25,55.5781 Q424.6094,55.7344 423.9063,55.7344 Q421.4063,55.7344 420.0781,54.0938 Q418.7656,52.4375 418.7656,49.3125 Q418.7656,46.1875 420.0781,44.5313 Q421.4063,42.875 423.9063,42.875 Q424.6094,42.875 425.25,43.0313 Q425.9063,43.1875 426.4688,43.4844 L426.4688,46.2031 Q425.8438,45.625 425.25,45.3594 Q424.6563,45.0781 424.0313,45.0781 Q422.6875,45.0781 422,46.1563 Q421.3125,47.2188 421.3125,49.3125 Q421.3125,51.4063 422,52.4844 Q422.6875,53.5469 424.0313,53.5469 Q424.6563,53.5469 425.25,53.2813 Q425.8438,53 426.4688,52.4219 L426.4688,55.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="437.5" y="53.6543">WatchdogMain</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="531.5" y1="65.5" y2="65.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="531.5" y1="73.5" y2="73.5"/><!--MD5=[74026ca718864ade72d8a12fd1b4e377]
class Watchdog--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="214.4609" id="Watchdog" style="stroke: #A80036; stroke-width: 1.5;" width="420" x="375.5" y="167"/><ellipse cx="549.75" cy="183" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M552.7188,188.6406 Q552.1406,188.9375 551.5,189.0781 Q550.8594,189.2344 550.1563,189.2344 Q547.6563,189.2344 546.3281,187.5938 Q545.0156,185.9375 545.0156,182.8125 Q545.0156,179.6875 546.3281,178.0313 Q547.6563,176.375 550.1563,176.375 Q550.8594,176.375 551.5,176.5313 Q552.1563,176.6875 552.7188,176.9844 L552.7188,179.7031 Q552.0938,179.125 551.5,178.8594 Q550.9063,178.5781 550.2813,178.5781 Q548.9375,178.5781 548.25,179.6563 Q547.5625,180.7188 547.5625,182.8125 Q547.5625,184.9063 548.25,185.9844 Q548.9375,187.0469 550.2813,187.0469 Q550.9063,187.0469 551.5,186.7813 Q552.0938,186.5 552.7188,185.9219 L552.7188,188.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="570.25" y="187.1543">Watchdog</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="376.5" x2="794.5" y1="199" y2="199"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="383.5" y="207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="395.5" y="213.2104">bool m_Running</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="383.5" y="219.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="395.5" y="226.0151">bool m_AutoScan</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="383.5" y="232.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="395.5" y="238.8198">bool m_Verbose</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="383.5" y="245.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="395.5" y="251.6245">milliseconds m_ScanPeriod</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="383.5" y="258.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="395.5" y="264.4292">function m_Callback</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="376.5" x2="794.5" y1="271.0234" y2="271.0234"/><ellipse cx="386.5" cy="282.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="395.5" y="285.2339">Watchdog( scanPeriod, autoScan, verbose)</text><ellipse cx="386.5" cy="294.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="395.5" y="298.0386">void setCallback( function)</text><ellipse cx="386.5" cy="307.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="395.5" y="310.8433">void setPolicy( policy)</text><ellipse cx="386.5" cy="320.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="395.5" y="323.6479">void monitor()</text><ellipse cx="386.5" cy="333.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="395.5" y="336.4526">void quiesce()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="399.5" y="349.2573"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="383.5" y="355.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="395.5" y="362.062">void scanHeartbeats()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="383.5" y="368.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="394" x="395.5" y="374.8667">void doCallbacks( actualName, processID, threadID, event, hbLength)</text><!--MD5=[34d86308632a2bd24f2343e76f24258b]
class WatchdogEvent--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="240.0703" id="WatchdogEvent" style="stroke: #A80036; stroke-width: 1.5;" width="449" x="6" y="441"/><ellipse cx="177.25" cy="457" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M180.2188,462.6406 Q179.6406,462.9375 179,463.0781 Q178.3594,463.2344 177.6563,463.2344 Q175.1563,463.2344 173.8281,461.5938 Q172.5156,459.9375 172.5156,456.8125 Q172.5156,453.6875 173.8281,452.0313 Q175.1563,450.375 177.6563,450.375 Q178.3594,450.375 179,450.5313 Q179.6563,450.6875 180.2188,450.9844 L180.2188,453.7031 Q179.5938,453.125 179,452.8594 Q178.4063,452.5781 177.7813,452.5781 Q176.4375,452.5781 175.75,453.6563 Q175.0625,454.7188 175.0625,456.8125 Q175.0625,458.9063 175.75,459.9844 Q176.4375,461.0469 177.7813,461.0469 Q178.4063,461.0469 179,460.7813 Q179.5938,460.5 180.2188,459.9219 L180.2188,462.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="197.75" y="461.1543">WatchdogEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="454" y1="473" y2="473"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="481"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="26" y="487.2104">string m_ProcessName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="493.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="26" y="500.0151">string m_ThreadName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="506.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="26" y="512.8198">pid_t m_ProcessID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="519.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="26" y="525.6245">pid_t m_ThreadID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="532.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="26" y="538.4292">HeartbeatEvent m_HBEvent</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="545.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="26" y="551.2339">milliseconds m_HBLength</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="557.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="26" y="564.0386">int m_Info</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="454" y1="570.6328" y2="570.6328"/><ellipse cx="17" cy="581.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="423" x="26" y="584.8433">WatchdogEvent(actualName, processID, threadID, hbEvent, hbLength, info)</text><ellipse cx="17" cy="594.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="26" y="597.6479">string processName()</text><ellipse cx="17" cy="607.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="26" y="610.4526">string threadName()</text><ellipse cx="17" cy="620.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="26" y="623.2573">pid_t processID()</text><ellipse cx="17" cy="632.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="26" y="636.062">pid_t threadID()</text><ellipse cx="17" cy="645.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="26" y="648.8667">HeartbeatEvent hbEvent()</text><ellipse cx="17" cy="658.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="26" y="661.6714">milliseconds hbLength()</text><ellipse cx="17" cy="671.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="26" y="674.4761">int info()</text><!--MD5=[6594933676626ddb2ae6f6be04cef802]
class IWatchdogPolicy--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="99.2188" id="IWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="39" y="8"/><ellipse cx="93.75" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M96.7188,29.6406 Q96.1406,29.9375 95.5,30.0781 Q94.8594,30.2344 94.1563,30.2344 Q91.6563,30.2344 90.3281,28.5938 Q89.0156,26.9375 89.0156,23.8125 Q89.0156,20.6875 90.3281,19.0313 Q91.6563,17.375 94.1563,17.375 Q94.8594,17.375 95.5,17.5313 Q96.1563,17.6875 96.7188,17.9844 L96.7188,20.7031 Q96.0938,20.125 95.5,19.8594 Q94.9063,19.5781 94.2813,19.5781 Q92.9375,19.5781 92.25,20.6563 Q91.5625,21.7188 91.5625,23.8125 Q91.5625,25.9063 92.25,26.9844 Q92.9375,28.0469 94.2813,28.0469 Q94.9063,28.0469 95.5,27.7813 Q96.0938,27.5 96.7188,26.9219 L96.7188,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="114.25" y="28.1543">IWatchdogPolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="40" x2="257" y1="40" y2="40"/><polygon fill="none" points="50,46,54,50,50,54,46,50" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="59" y="54.2104">string m_ProcessName</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="40" x2="257" y1="60.8047" y2="60.8047"/><ellipse cx="50" cy="71.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="59" y="75.0151">IWatchdogPolicy( processName)</text><ellipse cx="50" cy="84.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="59" y="87.8198">string processName()</text><ellipse cx="50" cy="97.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="59" y="100.6245">void handleEvent( event, verbose)</text><!--MD5=[19018a673758c1e2ea88e887634e8bea]
class ThreadyMainWatchdogPolicy--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="73.6094" id="ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="121" y="237"/><ellipse cx="140.5" cy="253" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M143.4688,258.6406 Q142.8906,258.9375 142.25,259.0781 Q141.6094,259.2344 140.9063,259.2344 Q138.4063,259.2344 137.0781,257.5938 Q135.7656,255.9375 135.7656,252.8125 Q135.7656,249.6875 137.0781,248.0313 Q138.4063,246.375 140.9063,246.375 Q141.6094,246.375 142.25,246.5313 Q142.9063,246.6875 143.4688,246.9844 L143.4688,249.7031 Q142.8438,249.125 142.25,248.8594 Q141.6563,248.5781 141.0313,248.5781 Q139.6875,248.5781 139,249.6563 Q138.3125,250.7188 138.3125,252.8125 Q138.3125,254.9063 139,255.9844 Q139.6875,257.0469 141.0313,257.0469 Q141.6563,257.0469 142.25,256.7813 Q142.8438,256.5 143.4688,255.9219 L143.4688,258.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="155.5" y="257.1543">ThreadyMainWatchdogPolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="122" x2="339" y1="269" y2="269"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="122" x2="339" y1="277" y2="277"/><ellipse cx="132" cy="288" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="141" y="291.2104">ThreadyMainWatchdogPolicy()</text><ellipse cx="132" cy="300.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="141" y="304.0151">void handleEvent( event, verbose)</text><!--MD5=[27b5ee5f1dbbde347ed284f899bf7850]
class EKG--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="214.4609" id="EKG" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="493.5" y="454"/><ellipse cx="565.25" cy="470" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M568.2188,475.6406 Q567.6406,475.9375 567,476.0781 Q566.3594,476.2344 565.6563,476.2344 Q563.1563,476.2344 561.8281,474.5938 Q560.5156,472.9375 560.5156,469.8125 Q560.5156,466.6875 561.8281,465.0313 Q563.1563,463.375 565.6563,463.375 Q566.3594,463.375 567,463.5313 Q567.6563,463.6875 568.2188,463.9844 L568.2188,466.7031 Q567.5938,466.125 567,465.8594 Q566.4063,465.5781 565.7813,465.5781 Q564.4375,465.5781 563.75,466.6563 Q563.0625,467.7188 563.0625,469.8125 Q563.0625,471.9063 563.75,472.9844 Q564.4375,474.0469 565.7813,474.0469 Q566.4063,474.0469 567,473.7813 Q567.5938,473.5 568.2188,472.9219 L568.2188,475.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="585.75" y="474.1543">EKG</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="494.5" x2="668.5" y1="486" y2="486"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="501.5" y="494"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="513.5" y="500.2104">string m_ActualName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="501.5" y="506.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="513.5" y="513.0151">string m_UserName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="501.5" y="519.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="513.5" y="525.8198">pid_t m_ProcessID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="501.5" y="532.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="513.5" y="538.6245">pid_t m_ThreadID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="501.5" y="545.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="513.5" y="551.4292">mapped_region m_Region</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="494.5" x2="668.5" y1="558.0234" y2="558.0234"/><ellipse cx="504.5" cy="569.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="513.5" y="572.2339">EKG( actualName)</text><ellipse cx="504.5" cy="581.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="513.5" y="585.0386">bool isAlive()</text><ellipse cx="504.5" cy="594.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="513.5" y="597.8433">bool isNormal()</text><ellipse cx="504.5" cy="607.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="513.5" y="610.6479">milliseconds length()</text><ellipse cx="504.5" cy="620.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="513.5" y="623.4526">string actualName()</text><ellipse cx="504.5" cy="633.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="513.5" y="636.2573">milliseconds normalLimit()</text><ellipse cx="504.5" cy="645.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="513.5" y="649.062">pid_t processID()</text><ellipse cx="504.5" cy="658.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="513.5" y="661.8667">pid_t threadID()</text><!--MD5=[5588a39ae170b77f50776c4d9116093e]
class Heartbeat--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="214.4609" id="Heartbeat" style="stroke: #A80036; stroke-width: 1.5;" width="330" x="270.5" y="741"/><ellipse cx="399.25" cy="757" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M402.2188,762.6406 Q401.6406,762.9375 401,763.0781 Q400.3594,763.2344 399.6563,763.2344 Q397.1563,763.2344 395.8281,761.5938 Q394.5156,759.9375 394.5156,756.8125 Q394.5156,753.6875 395.8281,752.0313 Q397.1563,750.375 399.6563,750.375 Q400.3594,750.375 401,750.5313 Q401.6563,750.6875 402.2188,750.9844 L402.2188,753.7031 Q401.5938,753.125 401,752.8594 Q400.4063,752.5781 399.7813,752.5781 Q398.4375,752.5781 397.75,753.6563 Q397.0625,754.7188 397.0625,756.8125 Q397.0625,758.9063 397.75,759.9844 Q398.4375,761.0469 399.7813,761.0469 Q400.4063,761.0469 401,760.7813 Q401.5938,760.5 402.2188,759.9219 L402.2188,762.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="419.75" y="761.1543">Heartbeat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="271.5" x2="599.5" y1="773" y2="773"/><ellipse cx="281.5" cy="784" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="290.5" y="787.2104">milliseconds m_NormalLimit</text><ellipse cx="281.5" cy="796.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="290.5" y="800.0151">milliseconds m_AbsoluteLimit</text><ellipse cx="281.5" cy="809.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="290.5" y="812.8198">TTickCount m_Beat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="271.5" x2="599.5" y1="819.4141" y2="819.4141"/><ellipse cx="281.5" cy="830.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="290.5" y="833.6245">void SetCRC( heartbeat)</text><ellipse cx="281.5" cy="843.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="290.5" y="846.4292">bool isCRCOK( heartbeat)</text><ellipse cx="281.5" cy="856.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="290.5" y="859.2339">string makeActualName( processName, threadName)</text><ellipse cx="281.5" cy="868.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="290.5" y="872.0386">string extractProcessName( actualName)</text><ellipse cx="281.5" cy="881.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="290.5" y="884.8433">string extractThreadName( actualName)</text><ellipse cx="281.5" cy="894.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="290.5" y="897.6479">pid_t extractProcessID( actualName)</text><ellipse cx="281.5" cy="907.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="290.5" y="910.4526">pid_t extractThreadID( actualName)</text><ellipse cx="281.5" cy="920.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="290.5" y="923.2573">bool isHeartbeat( name)</text><ellipse cx="281.5" cy="932.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="290.5" y="936.062">utin32)t calcCRC( heartbeat)</text><ellipse cx="281.5" cy="945.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="290.5" y="948.8667">TTickCount tickCountNow()</text><!--MD5=[cc99110d9c6a907c669d86144fedc9d7]
class SharedMemory--><rect fill="#FEFECE" filter="url(#fvtv4qgmstepi)" height="99.2188" id="SharedMemory" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="636" y="798.5"/><ellipse cx="672.6" cy="814.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M675.5688,820.1406 Q674.9906,820.4375 674.35,820.5781 Q673.7094,820.7344 673.0063,820.7344 Q670.5063,820.7344 669.1781,819.0938 Q667.8656,817.4375 667.8656,814.3125 Q667.8656,811.1875 669.1781,809.5313 Q670.5063,807.875 673.0063,807.875 Q673.7094,807.875 674.35,808.0313 Q675.0063,808.1875 675.5688,808.4844 L675.5688,811.2031 Q674.9438,810.625 674.35,810.3594 Q673.7563,810.0781 673.1313,810.0781 Q671.7875,810.0781 671.1,811.1563 Q670.4125,812.2188 670.4125,814.3125 Q670.4125,816.4063 671.1,817.4844 Q671.7875,818.5469 673.1313,818.5469 Q673.7563,818.5469 674.35,818.2813 Q674.9438,818 675.5688,817.4219 L675.5688,820.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="691.4" y="818.6543">SharedMemory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="637" x2="808" y1="830.5" y2="830.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="644" y="838.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="656" y="844.7104">mapped_region m_Region</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="637" x2="808" y1="851.3047" y2="851.3047"/><ellipse cx="647" cy="862.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="656" y="865.5151">SharedMemory( name)</text><ellipse cx="647" cy="875.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="656" y="878.3198">read( dest, numBytes)</text><ellipse cx="647" cy="887.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="656" y="891.1245">remove( name)</text><!--MD5=[4ed118a7c9c47b4b2b951d0ee4d84f54]
reverse link WatchdogMain to Watchdog--><path d="M489.29,93.55 C500.12,113.74 514.35,140.3 528.55,166.77 " fill="none" id="WatchdogMain&lt;-Watchdog" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="483.03,81.86,482.3399,89.038,488.7003,92.4358,489.3904,85.2578,483.03,81.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="477.1092" y="101.709">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="516.2645" y="155.7584">1</text><!--MD5=[8e71609fa42bdec185f6fdb3b686f276]
reverse link Watchdog to EKG--><path d="M583.83,394.33 C583.55,414.06 583.26,434.4 582.99,453.79 " fill="none" id="Watchdog&lt;-EKG" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="584.01,381.12,579.9247,387.0623,583.8386,393.1188,587.9239,387.1765,584.01,381.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="575.6068" y="401.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="574.8135" y="442.7798">n</text><!--MD5=[0fd108e7de586c0ccf791f894379f3d2]
reverse link Watchdog to WatchdogEvent--><path d="M443.02,389.39 C421.92,406.33 400.14,423.81 378.92,440.84 " fill="none" id="Watchdog&lt;-WatchdogEvent" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="453.31,381.12,446.1265,381.7509,443.946,388.6244,451.1295,387.9935,453.31,381.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="435.3085" y="401.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="379.7206" y="430.1295">n</text><!--MD5=[5ec4da6364520ecfa329a48874d2a8e8]
reverse link Watchdog to SharedMemory--><path d="M666.12,393.16 C674.11,408.75 681.21,424.91 686.5,441 C727.21,564.86 727.97,720.74 725.19,798.39 " fill="none" id="Watchdog&lt;-SharedMemory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="659.85,381.36,659.1386,388.5359,665.4889,391.9526,666.2003,384.7767,659.85,381.36" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="656.7965" y="401.4915">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717.0058" y="787.4198">1</text><!--MD5=[db8a0d5af58c6dc8fb1f9d87dc3a7343]
reverse link EKG to Heartbeat--><path d="M521.1,679.91 C510.76,700.09 500.08,720.94 489.91,740.79 " fill="none" id="EKG&lt;-Heartbeat" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="527.13,668.12,520.8342,671.636,521.6582,678.7999,527.9541,675.2839,527.13,668.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="514.8435" y="688.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="485.4545" y="729.7798">1</text><!--MD5=[829749167d475f38272ac85016cb5c0f]
reverse link EKG to SharedMemory--><path d="M639.88,680 C660.35,721.39 682.24,765.62 698.34,798.16 " fill="none" id="EKG&lt;-SharedMemory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="634,668.12,633.0704,675.2709,639.3138,678.8794,640.2433,671.7284,634,668.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="629.5617" y="688.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="686.556" y="787.5161">1</text><!--MD5=[ad6c493a7a85e6f3d42b49350a60d1bf]
reverse link IWatchdogPolicy to WatchdogEvent--><path d="M118.29,119.55 C112.18,134.7 106.66,151.14 103.5,167 C84.92,260.28 74.62,290.38 103.5,381 C110.07,401.6 119.96,421.87 131.39,440.93 " fill="none" id="IWatchdogPolicy&lt;-WatchdogEvent" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="123.53,107.17,117.5064,111.1344,118.8492,118.2194,124.8727,114.255,123.53,107.17" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[33f70b3cc4ed1ec0753727508ebf6d54]
reverse link ThreadyMainWatchdogPolicy to WatchdogEvent--><path d="M230.5,324.17 C230.5,356.41 230.5,400.03 230.5,440.98 " fill="none" id="ThreadyMainWatchdogPolicy&lt;-WatchdogEvent" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="230.5,311.1,226.5,317.1,230.5,323.1,234.5,317.1,230.5,311.1" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[93d305e3b7095644aacb8b2e6a5943d4]
reverse link IWatchdogPolicy to ThreadyMainWatchdogPolicy--><path d="M174.26,125.88 C188.3,162.62 205.13,206.63 216.69,236.88 " fill="none" id="IWatchdogPolicy&lt;-ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="167.71,128.35,167.11,107.17,180.79,123.36,167.71,128.35" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[228b956c8d985f3ce51a596ad4a13beb]
reverse link WatchdogMain to ThreadyMainWatchdogPolicy--><path d="M434.42,90.75 C390.55,129.96 316.72,195.94 270.97,236.83 " fill="none" id="WatchdogMain&lt;-ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="444.36,81.86,437.2209,82.8767,435.4137,89.8577,442.5527,88.841,444.36,81.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9e7e580974c875e027bc128ce044e5c7]
@startuml
class WatchdogMain

class Watchdog {
-bool m_Running
-bool m_AutoScan
-bool m_Verbose
-milliseconds m_ScanPeriod
-function m_Callback

+Watchdog( scanPeriod, autoScan, verbose)
+void setCallback( function)
+void setPolicy( policy)
+void monitor()
+void quiesce()

-void scanHeartbeats()
-void doCallbacks( actualName, processID, threadID, event, hbLength)
}

class WatchdogEvent {
+WatchdogEvent(actualName, processID, threadID, hbEvent, hbLength, info)
+string processName()
+string threadName()
+pid_t processID()
+pid_t threadID()
+HeartbeatEvent hbEvent()
+milliseconds hbLength()
+int info()
-string m_ProcessName
-string m_ThreadName
-pid_t m_ProcessID
-pid_t m_ThreadID
-HeartbeatEvent m_HBEvent
-milliseconds m_HBLength
-int m_Info
}

class IWatchdogPolicy {
#string m_ProcessName
+IWatchdogPolicy( processName)
+string processName()
+void handleEvent( event, verbose)
}

class ThreadyMainWatchdogPolicy {
+ThreadyMainWatchdogPolicy()
+void handleEvent( event, verbose)
}

class EKG {
-string m_ActualName
-string m_UserName
-pid_t m_ProcessID
-pid_t m_ThreadID
-mapped_region m_Region

+EKG( actualName)
+bool isAlive()
+bool isNormal()
+milliseconds length()
+string actualName()
+milliseconds normalLimit()
+pid_t processID()
+pid_t threadID()
}

class Heartbeat {
+milliseconds m_NormalLimit
+milliseconds m_AbsoluteLimit
+TTickCount m_Beat

+void SetCRC( heartbeat)
+bool isCRCOK( heartbeat)
+string makeActualName( processName, threadName)
+string extractProcessName( actualName)
+string extractThreadName( actualName)
+pid_t extractProcessID( actualName)
+pid_t extractThreadID( actualName)
+bool isHeartbeat( name)
+utin32)t calcCRC( heartbeat)
+TTickCount tickCountNow()
}

class SharedMemory {
-mapped_region m_Region
+SharedMemory( name)
+read( dest, numBytes)
+remove( name)
}

WatchdogMain "1" *- - "1" Watchdog
Watchdog "1" *- - "n" EKG
Watchdog "1" *- - "n" WatchdogEvent
Watchdog "1" *- - "1" SharedMemory
EKG "1" *- - "1" Heartbeat
EKG "1" *- - "1" SharedMemory
IWatchdogPolicy *- - WatchdogEvent
ThreadyMainWatchdogPolicy *- - WatchdogEvent
IWatchdogPolicy <|- - ThreadyMainWatchdogPolicy
WatchdogMain *- - ThreadyMainWatchdogPolicy
@enduml- ->

PlantUML version 1.2020.02(Sun Mar 01 21:22:07 AEDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7-post-Ubuntu-0ubuntu122.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>