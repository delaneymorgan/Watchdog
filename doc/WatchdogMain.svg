<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="966px" preserveAspectRatio="none" style="width:806px;height:966px;" version="1.1" viewBox="0 0 806 966" width="806px" zoomAndPan="magnify"><defs><filter height="300%" id="fdd7ebgsklhga" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9a528e6905840515624eb80340063a30]
class WatchdogMain--><rect fill="#FEFECE" filter="url(#fdd7ebgsklhga)" height="48" id="WatchdogMain" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="309" y="33.5"/><ellipse cx="324" cy="49.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M326.9688,55.1406 Q326.3906,55.4375 325.75,55.5781 Q325.1094,55.7344 324.4063,55.7344 Q321.9063,55.7344 320.5781,54.0938 Q319.2656,52.4375 319.2656,49.3125 Q319.2656,46.1875 320.5781,44.5313 Q321.9063,42.875 324.4063,42.875 Q325.1094,42.875 325.75,43.0313 Q326.4063,43.1875 326.9688,43.4844 L326.9688,46.2031 Q326.3438,45.625 325.75,45.3594 Q325.1563,45.0781 324.5313,45.0781 Q323.1875,45.0781 322.5,46.1563 Q321.8125,47.2188 321.8125,49.3125 Q321.8125,51.4063 322.5,52.4844 Q323.1875,53.5469 324.5313,53.5469 Q325.1563,53.5469 325.75,53.2813 Q326.3438,53 326.9688,52.4219 L326.9688,55.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="338" y="53.6543">WatchdogMain</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="432" y1="65.5" y2="65.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="432" y1="73.5" y2="73.5"/><!--MD5=[74026ca718864ade72d8a12fd1b4e377]
class Watchdog--><rect fill="#FEFECE" filter="url(#fdd7ebgsklhga)" height="214.4609" id="Watchdog" style="stroke: #A80036; stroke-width: 1.5;" width="420" x="6" y="167"/><ellipse cx="180.25" cy="183" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M183.2188,188.6406 Q182.6406,188.9375 182,189.0781 Q181.3594,189.2344 180.6563,189.2344 Q178.1563,189.2344 176.8281,187.5938 Q175.5156,185.9375 175.5156,182.8125 Q175.5156,179.6875 176.8281,178.0313 Q178.1563,176.375 180.6563,176.375 Q181.3594,176.375 182,176.5313 Q182.6563,176.6875 183.2188,176.9844 L183.2188,179.7031 Q182.5938,179.125 182,178.8594 Q181.4063,178.5781 180.7813,178.5781 Q179.4375,178.5781 178.75,179.6563 Q178.0625,180.7188 178.0625,182.8125 Q178.0625,184.9063 178.75,185.9844 Q179.4375,187.0469 180.7813,187.0469 Q181.4063,187.0469 182,186.7813 Q182.5938,186.5 183.2188,185.9219 L183.2188,188.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="200.75" y="187.1543">Watchdog</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="425" y1="199" y2="199"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="26" y="213.2104">bool m_Running</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="219.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="26" y="226.0151">bool m_AutoScan</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="232.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="26" y="238.8198">bool m_Verbose</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="245.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="26" y="251.6245">milliseconds m_ScanPeriod</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="258.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="26" y="264.4292">function m_Callback</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="425" y1="271.0234" y2="271.0234"/><ellipse cx="17" cy="282.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="26" y="285.2339">Watchdog( scanPeriod, autoScan, verbose)</text><ellipse cx="17" cy="294.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="26" y="298.0386">void setCallback( function)</text><ellipse cx="17" cy="307.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="26" y="310.8433">void setPolicy( policy)</text><ellipse cx="17" cy="320.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="26" y="323.6479">void monitor()</text><ellipse cx="17" cy="333.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="26" y="336.4526">void quiesce()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="30" y="349.2573"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="355.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="26" y="362.062">void scanHeartbeats()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="368.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="394" x="26" y="374.8667">void doCallbacks( actualName, processID, threadID, event, hbLength)</text><!--MD5=[34d86308632a2bd24f2343e76f24258b]
class WatchdogEvent--><rect fill="#FEFECE" filter="url(#fdd7ebgsklhga)" height="240.0703" id="WatchdogEvent" style="stroke: #A80036; stroke-width: 1.5;" width="449" x="346.5" y="441"/><ellipse cx="517.75" cy="457" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520.7188,462.6406 Q520.1406,462.9375 519.5,463.0781 Q518.8594,463.2344 518.1563,463.2344 Q515.6563,463.2344 514.3281,461.5938 Q513.0156,459.9375 513.0156,456.8125 Q513.0156,453.6875 514.3281,452.0313 Q515.6563,450.375 518.1563,450.375 Q518.8594,450.375 519.5,450.5313 Q520.1563,450.6875 520.7188,450.9844 L520.7188,453.7031 Q520.0938,453.125 519.5,452.8594 Q518.9063,452.5781 518.2813,452.5781 Q516.9375,452.5781 516.25,453.6563 Q515.5625,454.7188 515.5625,456.8125 Q515.5625,458.9063 516.25,459.9844 Q516.9375,461.0469 518.2813,461.0469 Q518.9063,461.0469 519.5,460.7813 Q520.0938,460.5 520.7188,459.9219 L520.7188,462.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="538.25" y="461.1543">WatchdogEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="347.5" x2="794.5" y1="473" y2="473"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="354.5" y="481"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="366.5" y="487.2104">string m_ProcessName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="354.5" y="493.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="366.5" y="500.0151">string m_ThreadName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="354.5" y="506.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="366.5" y="512.8198">pid_t m_ProcessID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="354.5" y="519.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="366.5" y="525.6245">pid_t m_ThreadID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="354.5" y="532.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="366.5" y="538.4292">HeartbeatEvent m_HBEvent</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="354.5" y="545.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="366.5" y="551.2339">milliseconds m_HBLength</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="354.5" y="557.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="366.5" y="564.0386">int m_Info</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="347.5" x2="794.5" y1="570.6328" y2="570.6328"/><ellipse cx="357.5" cy="581.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="423" x="366.5" y="584.8433">WatchdogEvent(actualName, processID, threadID, hbEvent, hbLength, info)</text><ellipse cx="357.5" cy="594.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="366.5" y="597.6479">string processName()</text><ellipse cx="357.5" cy="607.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="366.5" y="610.4526">string threadName()</text><ellipse cx="357.5" cy="620.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="366.5" y="623.2573">pid_t processID()</text><ellipse cx="357.5" cy="632.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="366.5" y="636.062">pid_t threadID()</text><ellipse cx="357.5" cy="645.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="366.5" y="648.8667">HeartbeatEvent hbEvent()</text><ellipse cx="357.5" cy="658.4609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="366.5" y="661.6714">milliseconds hbLength()</text><ellipse cx="357.5" cy="671.2656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="366.5" y="674.4761">int info()</text><!--MD5=[6594933676626ddb2ae6f6be04cef802]
class IWatchdogPolicy--><rect fill="#FEFECE" filter="url(#fdd7ebgsklhga)" height="99.2188" id="IWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="542.5" y="8"/><ellipse cx="597.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M600.2188,29.6406 Q599.6406,29.9375 599,30.0781 Q598.3594,30.2344 597.6563,30.2344 Q595.1563,30.2344 593.8281,28.5938 Q592.5156,26.9375 592.5156,23.8125 Q592.5156,20.6875 593.8281,19.0313 Q595.1563,17.375 597.6563,17.375 Q598.3594,17.375 599,17.5313 Q599.6563,17.6875 600.2188,17.9844 L600.2188,20.7031 Q599.5938,20.125 599,19.8594 Q598.4063,19.5781 597.7813,19.5781 Q596.4375,19.5781 595.75,20.6563 Q595.0625,21.7188 595.0625,23.8125 Q595.0625,25.9063 595.75,26.9844 Q596.4375,28.0469 597.7813,28.0469 Q598.4063,28.0469 599,27.7813 Q599.5938,27.5 600.2188,26.9219 L600.2188,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="617.75" y="28.1543">IWatchdogPolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="543.5" x2="760.5" y1="40" y2="40"/><polygon fill="none" points="553.5,46,557.5,50,553.5,54,549.5,50" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="562.5" y="54.2104">string m_ProcessName</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="543.5" x2="760.5" y1="60.8047" y2="60.8047"/><ellipse cx="553.5" cy="71.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="562.5" y="75.0151">IWatchdogPolicy( processName)</text><ellipse cx="553.5" cy="84.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="562.5" y="87.8198">string processName()</text><ellipse cx="553.5" cy="97.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="562.5" y="100.6245">void handleEvent( event, verbose)</text><!--MD5=[19018a673758c1e2ea88e887634e8bea]
class ThreadyMainWatchdogPolicy--><rect fill="#FEFECE" filter="url(#fdd7ebgsklhga)" height="73.6094" id="ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="461.5" y="237"/><ellipse cx="481" cy="253" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M483.9688,258.6406 Q483.3906,258.9375 482.75,259.0781 Q482.1094,259.2344 481.4063,259.2344 Q478.9063,259.2344 477.5781,257.5938 Q476.2656,255.9375 476.2656,252.8125 Q476.2656,249.6875 477.5781,248.0313 Q478.9063,246.375 481.4063,246.375 Q482.1094,246.375 482.75,246.5313 Q483.4063,246.6875 483.9688,246.9844 L483.9688,249.7031 Q483.3438,249.125 482.75,248.8594 Q482.1563,248.5781 481.5313,248.5781 Q480.1875,248.5781 479.5,249.6563 Q478.8125,250.7188 478.8125,252.8125 Q478.8125,254.9063 479.5,255.9844 Q480.1875,257.0469 481.5313,257.0469 Q482.1563,257.0469 482.75,256.7813 Q483.3438,256.5 483.9688,255.9219 L483.9688,258.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="496" y="257.1543">ThreadyMainWatchdogPolicy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="462.5" x2="679.5" y1="269" y2="269"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="462.5" x2="679.5" y1="277" y2="277"/><ellipse cx="472.5" cy="288" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="481.5" y="291.2104">ThreadyMainWatchdogPolicy()</text><ellipse cx="472.5" cy="300.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="481.5" y="304.0151">void handleEvent( event, verbose)</text><!--MD5=[27b5ee5f1dbbde347ed284f899bf7850]
class EKG--><rect fill="#FEFECE" filter="url(#fdd7ebgsklhga)" height="214.4609" id="EKG" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="128" y="454"/><ellipse cx="199.75" cy="470" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M202.7188,475.6406 Q202.1406,475.9375 201.5,476.0781 Q200.8594,476.2344 200.1563,476.2344 Q197.6563,476.2344 196.3281,474.5938 Q195.0156,472.9375 195.0156,469.8125 Q195.0156,466.6875 196.3281,465.0313 Q197.6563,463.375 200.1563,463.375 Q200.8594,463.375 201.5,463.5313 Q202.1563,463.6875 202.7188,463.9844 L202.7188,466.7031 Q202.0938,466.125 201.5,465.8594 Q200.9063,465.5781 200.2813,465.5781 Q198.9375,465.5781 198.25,466.6563 Q197.5625,467.7188 197.5625,469.8125 Q197.5625,471.9063 198.25,472.9844 Q198.9375,474.0469 200.2813,474.0469 Q200.9063,474.0469 201.5,473.7813 Q202.0938,473.5 202.7188,472.9219 L202.7188,475.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="220.25" y="474.1543">EKG</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="129" x2="303" y1="486" y2="486"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="494"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="148" y="500.2104">string m_ActualName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="506.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="148" y="513.0151">string m_UserName</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="519.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="148" y="525.8198">pid_t m_ProcessID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="532.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="148" y="538.6245">pid_t m_ThreadID</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="136" y="545.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="148" y="551.4292">mapped_region m_Region</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="129" x2="303" y1="558.0234" y2="558.0234"/><ellipse cx="139" cy="569.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="148" y="572.2339">EKG( actualName)</text><ellipse cx="139" cy="581.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="148" y="585.0386">bool isAlive()</text><ellipse cx="139" cy="594.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="148" y="597.8433">bool isNormal()</text><ellipse cx="139" cy="607.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="148" y="610.6479">milliseconds length()</text><ellipse cx="139" cy="620.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="148" y="623.4526">string actualName()</text><ellipse cx="139" cy="633.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="148" y="636.2573">milliseconds normalLimit()</text><ellipse cx="139" cy="645.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="148" y="649.062">pid_t processID()</text><ellipse cx="139" cy="658.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="148" y="661.8667">pid_t threadID()</text><!--MD5=[5588a39ae170b77f50776c4d9116093e]
class Heartbeat--><rect fill="#FEFECE" filter="url(#fdd7ebgsklhga)" height="214.4609" id="Heartbeat" style="stroke: #A80036; stroke-width: 1.5;" width="330" x="51" y="741"/><ellipse cx="179.75" cy="757" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M182.7188,762.6406 Q182.1406,762.9375 181.5,763.0781 Q180.8594,763.2344 180.1563,763.2344 Q177.6563,763.2344 176.3281,761.5938 Q175.0156,759.9375 175.0156,756.8125 Q175.0156,753.6875 176.3281,752.0313 Q177.6563,750.375 180.1563,750.375 Q180.8594,750.375 181.5,750.5313 Q182.1563,750.6875 182.7188,750.9844 L182.7188,753.7031 Q182.0938,753.125 181.5,752.8594 Q180.9063,752.5781 180.2813,752.5781 Q178.9375,752.5781 178.25,753.6563 Q177.5625,754.7188 177.5625,756.8125 Q177.5625,758.9063 178.25,759.9844 Q178.9375,761.0469 180.2813,761.0469 Q180.9063,761.0469 181.5,760.7813 Q182.0938,760.5 182.7188,759.9219 L182.7188,762.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="200.25" y="761.1543">Heartbeat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="52" x2="380" y1="773" y2="773"/><ellipse cx="62" cy="784" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="71" y="787.2104">milliseconds m_NormalLimit</text><ellipse cx="62" cy="796.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="71" y="800.0151">milliseconds m_AbsoluteLimit</text><ellipse cx="62" cy="809.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="71" y="812.8198">TTickCount m_Beat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="52" x2="380" y1="819.4141" y2="819.4141"/><ellipse cx="62" cy="830.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="71" y="833.6245">void SetCRC( heartbeat)</text><ellipse cx="62" cy="843.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="71" y="846.4292">bool isCRCOK( heartbeat)</text><ellipse cx="62" cy="856.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="71" y="859.2339">string makeActualName( processName, threadName)</text><ellipse cx="62" cy="868.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="71" y="872.0386">string extractProcessName( actualName)</text><ellipse cx="62" cy="881.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="71" y="884.8433">string extractThreadName( actualName)</text><ellipse cx="62" cy="894.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="71" y="897.6479">pid_t extractProcessID( actualName)</text><ellipse cx="62" cy="907.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="71" y="910.4526">pid_t extractThreadID( actualName)</text><ellipse cx="62" cy="920.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="71" y="923.2573">bool isHeartbeat( name)</text><ellipse cx="62" cy="932.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="71" y="936.062">utin32)t calcCRC( heartbeat)</text><ellipse cx="62" cy="945.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="71" y="948.8667">TTickCount tickCountNow()</text><!--MD5=[4ed118a7c9c47b4b2b951d0ee4d84f54]
reverse link WatchdogMain to Watchdog--><path d="M346.49,92.42 C331.81,112.74 312.25,139.8 292.76,166.77 " fill="none" id="WatchdogMain&lt;-Watchdog" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="354.12,81.86,347.3627,84.3778,347.0879,91.5836,353.8451,89.0659,354.12,81.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="341.0305" y="101.709">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="289.8759" y="155.7584">1</text><!--MD5=[8e71609fa42bdec185f6fdb3b686f276]
reverse link Watchdog to EKG--><path d="M216,394.33 C216,414.06 216,434.4 216,453.79 " fill="none" id="Watchdog&lt;-EKG" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="216,381.12,212,387.12,216,393.12,220,387.12,216,381.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7063" y="401.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7188" y="442.7798">n</text><!--MD5=[0fd108e7de586c0ccf791f894379f3d2]
reverse link Watchdog to WatchdogEvent--><path d="M358.48,389.39 C379.58,406.33 401.36,423.81 422.58,440.84 " fill="none" id="Watchdog&lt;-WatchdogEvent" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="348.19,381.12,350.3705,387.9935,357.554,388.6244,355.3735,381.7509,348.19,381.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="349.604" y="401.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="405.2919" y="430.1295">n</text><!--MD5=[db8a0d5af58c6dc8fb1f9d87dc3a7343]
reverse link EKG to Heartbeat--><path d="M216,681.33 C216,701.06 216,721.4 216,740.79 " fill="none" id="EKG&lt;-Heartbeat" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="216,668.12,212,674.12,216,680.12,220,674.12,216,668.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7063" y="688.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="207.7188" y="729.7798">1</text><!--MD5=[ad6c493a7a85e6f3d42b49350a60d1bf]
reverse link IWatchdogPolicy to WatchdogEvent--><path d="M682.88,119.49 C689.13,134.64 694.77,151.1 698,167 C716.94,260.21 726.88,290.38 698,381 C691.43,401.6 681.54,421.87 670.11,440.93 " fill="none" id="IWatchdogPolicy&lt;-WatchdogEvent" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="677.52,107.12,676.2366,114.216,682.2931,118.1299,683.5765,111.0339,677.52,107.12" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[33f70b3cc4ed1ec0753727508ebf6d54]
reverse link ThreadyMainWatchdogPolicy to WatchdogEvent--><path d="M571,324.17 C571,356.41 571,400.03 571,440.98 " fill="none" id="ThreadyMainWatchdogPolicy&lt;-WatchdogEvent" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="571,311.1,567,317.1,571,323.1,575,317.1,571,311.1" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[93d305e3b7095644aacb8b2e6a5943d4]
reverse link IWatchdogPolicy to ThreadyMainWatchdogPolicy--><path d="M626.46,126.13 C612.61,162.82 596.04,206.7 584.64,236.88 " fill="none" id="IWatchdogPolicy&lt;-ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="620.01,123.41,633.62,107.17,633.1,128.36,620.01,123.41" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[228b956c8d985f3ce51a596ad4a13beb]
reverse link WatchdogMain to ThreadyMainWatchdogPolicy--><path d="M401.77,91.5 C438.4,130.79 499.39,196.2 537.28,236.83 " fill="none" id="WatchdogMain&lt;-ThreadyMainWatchdogPolicy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="392.78,81.86,393.9405,88.9771,400.9565,90.6432,399.796,83.5261,392.78,81.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4dbceced6ab9399dc5b512a31364e89b]
@startuml
class WatchdogMain

class Watchdog {
-bool m_Running
-bool m_AutoScan
-bool m_Verbose
-milliseconds m_ScanPeriod
-function m_Callback

+Watchdog( scanPeriod, autoScan, verbose)
+void setCallback( function)
+void setPolicy( policy)
+void monitor()
+void quiesce()

-void scanHeartbeats()
-void doCallbacks( actualName, processID, threadID, event, hbLength)
}

class WatchdogEvent {
+WatchdogEvent(actualName, processID, threadID, hbEvent, hbLength, info)
+string processName()
+string threadName()
+pid_t processID()
+pid_t threadID()
+HeartbeatEvent hbEvent()
+milliseconds hbLength()
+int info()
-string m_ProcessName
-string m_ThreadName
-pid_t m_ProcessID
-pid_t m_ThreadID
-HeartbeatEvent m_HBEvent
-milliseconds m_HBLength
-int m_Info
}

class IWatchdogPolicy {
#string m_ProcessName
+IWatchdogPolicy( processName)
+string processName()
+void handleEvent( event, verbose)
}

class ThreadyMainWatchdogPolicy {
+ThreadyMainWatchdogPolicy()
+void handleEvent( event, verbose)
}

class EKG {
-string m_ActualName
-string m_UserName
-pid_t m_ProcessID
-pid_t m_ThreadID
-mapped_region m_Region

+EKG( actualName)
+bool isAlive()
+bool isNormal()
+milliseconds length()
+string actualName()
+milliseconds normalLimit()
+pid_t processID()
+pid_t threadID()
}

class Heartbeat {
+milliseconds m_NormalLimit
+milliseconds m_AbsoluteLimit
+TTickCount m_Beat

+void SetCRC( heartbeat)
+bool isCRCOK( heartbeat)
+string makeActualName( processName, threadName)
+string extractProcessName( actualName)
+string extractThreadName( actualName)
+pid_t extractProcessID( actualName)
+pid_t extractThreadID( actualName)
+bool isHeartbeat( name)
+utin32)t calcCRC( heartbeat)
+TTickCount tickCountNow()
}
WatchdogMain "1" *- - "1" Watchdog
Watchdog "1" *- - "n" EKG
Watchdog "1" *- - "n" WatchdogEvent
EKG "1" *- - "1" Heartbeat
IWatchdogPolicy *- - WatchdogEvent
ThreadyMainWatchdogPolicy *- - WatchdogEvent
IWatchdogPolicy <|- - ThreadyMainWatchdogPolicy
WatchdogMain *- - ThreadyMainWatchdogPolicy
@enduml- ->

PlantUML version 1.2020.02(Sun Mar 01 21:22:07 AEDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7-post-Ubuntu-0ubuntu122.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>